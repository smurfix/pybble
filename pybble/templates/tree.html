{% extends 'layout.html' %}
{%- set styles = ['jqueryFileTree.css'] + styles|default([]) -%}
{%- set scripts = ['jQuery.FileTree.js'] + scripts|default([]) -%}
{% block add_header %}
		<script type="text/javascript">
			
			$(document).ready( function() {
				$('#jq_owner').fileTree({ root: '{{obj.oid()}}', script: '/snippet/owner' });
				$('#jq_parent').fileTree({ root: '{{obj.oid()}}', script: '/snippet/parent' });
				$('#jq_superparent').fileTree({ root: '{{obj.oid()}}', script: '/snippet/superparent' });
			});
		</script>

{% endblock %}
{% block body %}

  <h1>Object trees of {{ obj }}</h1>
  <h2>Owner</h2>
  <ul class="jqueryFileTree" id="jq_owner">
     <li>Javascript is disabled -- no display!</span>
	 <!-- TODO: generate a child list -->
  </ul>
  <h2>Parent / child</h2>
  <ul class="jqueryFileTree" id="jq_parent">
     <li>Javascript is disabled -- no display!</span>
	 <!-- TODO: generate a child list -->
  </ul>
  <h2>Super-Parent / child</h2>
  <ul class="jqueryFileTree" id="jq_superparent">
     <li>Javascript is disabled -- no display!</span>
	 <!-- TODO: generate a child list -->
  </ul>

  {% if obj.owner or obj.parent or obj.superparent %}
  <h2>Uplinks</h2>
  <table class="uplink">
  <tbody>
    {% if obj.owner -%}
	  <tr><th>Owner:</th><td><a href="{{ url_for("pybble.views.view_tree", oid=obj.owner.oid()) }}">{{ obj.owner }}</a></td><td>{{ obj.owner.oid() }}</td></tr>
	{%- endif %}
    {% if obj.parent -%}
	  <tr><th>Parent:</th><td><a href="{{ url_for("pybble.views.view_tree", oid=obj.parent.oid()) }}">{{ obj.parent }}</a></td><td>{{ obj.parent.oid() }}</td></tr>
	{%- endif %}
    {% if obj.superparent -%}
	  <tr><th>SuperParent:</th><td><a href="{{ url_for("pybble.views.view_tree", oid=obj.superparent.oid()) }}">{{ obj.superparent }}</a></td><td>{{ obj.superparent.oid() }}</td></tr>
	{%- endif %}
	</tbody></table>
	{% else %}
	<p>Es gibt keine Uplinks; das Objekt ist wahrscheinlich gel√∂scht.</p>
	{% endif %}
{% endblock %}
